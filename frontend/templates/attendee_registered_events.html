<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Events | EventLinker</title>

  <link rel="stylesheet" href="{{ url_for('static', filename='styles/attendee_homepage.css') }}" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>

  <div class="page-bg"></div>

  <!-- NAVBAR -->
  <header class="navbar">
    <div class="nav-left">
      <div class="logo">
        <img src="{{ url_for('static', filename='images/event-linker-logo.png') }}" class="logo-icon">
        <div class="logo-text-wrap">
          <span class="logo-text">EventLinker</span>
          <small class="logo-tagline">Attendee Dashboard</small>
        </div>
      </div>
    </div>

    <nav class="nav-links">
      <a href="{{ url_for('attendee_bp.attendee_homepage') }}" class="{% if not from_registered %}active{% endif %}">Dashboard</a>
      <a href="{{ url_for('attendee_bp.attendee_my_connections') }}">My Connections</a>
      <a href="{{ url_for('attendee_bp.attendee_connections') }}">
        Notifications
        {% if g.pending_request_count > 0 %}
        <span class="notification-badge">{{ g.pending_request_count }}</span>
        {% endif %}
      </a>
      <a href="{{ url_for('attendee_bp.attendee_registered_events') }}" class="{% if from_registered %}active{% endif %}">My Events</a>
      <a href="{{ url_for('user_bp.user_profile') }}">Profile</a>
      <a href="{{ url_for('attendee_bp.about_page') }}">About Us</a>
      <a href="{{ url_for('user_bp.logout_user') }}">Logout</a>
    </nav>
  </header>

  <!-- EVENTS GRID -->
  <section class="event-cards-section">
    <div class="card-container">
      {% if events %}
        {% for event in events %}
        <div class="card">
          <img src="{{ event.image_path }}" alt="{{ event.event_title }}" class="card-image">
          <div class="card-content">
            <h3 class="card-title">{{ event.event_title }}</h3>
            <p class="card-meta">
              <i class="fa fa-calendar"></i> {{ event.event_date }} |
              <i class="fa fa-map-marker"></i> {{ event.location }}
            </p>
            <p class="card-description">{{ event.description }}</p>
            <a href="{{ url_for('attendee_bp.attendee_event_details', event_id=event.event_id, registered=1) }}">
              <button class="btn-primary card-button">View</button>
            </a>
          </div>
        </div>
        {% endfor %}
      {% else %}
        <p style="text-align:center; padding:20px; font-size:1.1rem;">
          You have not registered for any events yet.
        </p>
      {% endif %}
    </div>
  </section>

  <footer class="footer">
    <p>Â© 2025 EventLinker. All rights reserved.</p>
  </footer>

</body>
</html>
